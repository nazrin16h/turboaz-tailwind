<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="./output.css" rel="stylesheet">
    <link href="./input.css" rel="stylesheet">
</head>

<body>
    <header class="p-4 dark:bg-gray-100 dark:text-gray-800">
        <div class="container flex justify-between h-6 mx-auto">
            <div class="flex justify-around  mx-9">
                <ul class="items-stretch hidden space-x-3 lg:flex">
                    <li class="flex">
                        <a rel="noopener noreferrer" href="#"
                            class="flex items-center px-4 -mb-1 text-slate-400">Tap.az</a>
                    </li>
                    <li class="flex">
                        <a rel="noopener noreferrer" href="#"
                            class="flex items-center px-4 -mb-1 text-slate-400">Bina.az</a>
                    </li>
                    <li class="flex">
                        <a rel="noopener noreferrer" href="#"
                            class="flex items-center px-4 -mb-1 text-slate-400">Boss.az</a>
                    </li>
                </ul>
            </div>
            <div class="flex">
                <ul class="items-stretch hidden space-x-3 lg:flex">
                    <li class="flex">
                        <a rel="noopener noreferrer" href="#"
                            class="flex items-center px-4 -mb-1 text-gray-400">Destek:(937)8787837</a>
                    </li>
                    <li class="flex">
                        <a rel="noopener noreferrer" href="#"
                            class="flex items-center px-4 -mb-1 text-gray-400">Yardim</a>
                    </li>
                    <li class="flex">
                        <a rel="noopener noreferrer" href="#" class="flex items-center px-4 -mb-1 text-gray-400">RU</a>
                    </li>
                    <li class="flex">
                        <a rel="noopener noreferrer" href="#" class="flex items-center px-4 -mb-1  text-gray-400"><i
                                class="fa-solid fa-heart"></i>Secilmis</a>
                    </li>
                    <li class="flex">
                        <a rel="noopener noreferrer" href="#" class="flex items-center px-4 -mb-1 text-gray-400 "> <i
                                class="fa-solid fa-user"></i>Giris</a>
                    </li>

                </ul>
            </div>

        </div>
    </header>

    <div class="p-4 bg-red-600 dark:text-white">
        <div class="container flex md:justify-around h-14 md:mx-12 ">
            <div class="flex">
                <a rel="noopener noreferrer" href="#" aria-label="Back to homepage" class="flex items-center p-2">
                    <h1 class="font-bold ">TURBO.AZ</h1>
                </a>
                <ul class="items-stretch hidden space-x-3 lg:flex">
                    <li class="flex " onclick="printCards()">
                        <a rel="noopener noreferrer" href="#" class="flex items-center px-4 -mb-1 dark:border-">Bütün
                            elanlar</a>
                    </li>
                    <li class="flex">
                        <a rel="noopener noreferrer" href="#"
                            class="flex items-center px-4 -mb-1    dark:border- dark:text-white">Avtosalonlar</a>
                    </li>
                    <li class="flex">
                        <a rel="noopener noreferrer" href="#" class="flex items-center px-4 -mb-1 dark:border-">Moto</a>
                    </li>
                    <li class="flex">
                        <a rel="noopener noreferrer" href="#" class="flex items-center px-4 -mb-1  dark:border-">Ehtiyat
                            hissələri və aksesuarlar</a>
                    </li>
                </ul>
                <div class="none">
                    <ul>
                        <li><a href=""></a></li>
                        <li><a href=""></a></li>
                        <li><a href=""></a></li>
                        <li><a href=""></a></li>
                    </ul>
                </div>
            </div>
            <div class="flex items-center md:space-x-4 ">
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 flex items-center pl-2 ">
                        <button type="submit" title="Search" class="p-1 focus:outline-none focus:ring">
                            <svg fill="currentColor" viewBox="0 0 512 512" class="w-4 h-4 dark:text-gray-800">
                                <path
                                    d="M479.6,399.716l-81.084-81.084-62.368-25.767A175.014,175.014,0,0,0,368,192c0-97.047-78.953-176-176-176S16,94.953,16,192,94.953,368,192,368a175.034,175.034,0,0,0,101.619-32.377l25.7,62.2L400.4,478.911a56,56,0,1,0,79.2-79.195ZM48,192c0-79.4,64.6-144,144-144s144,64.6,144,144S271.4,336,192,336,48,271.4,48,192ZM456.971,456.284a24.028,24.028,0,0,1-33.942,0l-76.572-76.572-23.894-57.835L380.4,345.771l76.573,76.572A24.028,24.028,0,0,1,456.971,456.284Z">
                                </path>
                            </svg>
                        </button>
                    </span>
                    <input type="search" oninput="search()" id="axtar" name="Search" placeholder="Search..."
                        class="w-32 py-2 pl-10 text-sm rounded-md sm:w-auto focus:outline-none dark:bg-gray-100 dark:text-gray-800 focus:dark:bg-gray-50">
                </div>
                <button id="yeniElan" type="button"
                    class="hidden px-6 py-2 font-semibold rounded lg:block bg-green-500 dark:text-gray-50"
                    onclick="openhid()"> + Yeni Elan
                </button>
            </div>
            <button title="Open menu" type="button" class="p-4  lg:hidden">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                    class="w-6 h-6 dark:text-gray-800">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16">
                    </path>
                </svg>
            </button>
            <div class="h-[400px] overflow-y-auto py-4 mx-10 hidden md:block" id="basket">
                <i class="fa-solid fa-basket-shopping "></i>
                <button onclick="showBasket(true)">Basket</button>
            </div>
        </div>
    </div>
    <div class=" bg-red-600 py-3 h-12  text-white px-16">
        <select class="bg-red-600 border-0 mx-[1.5rem]" id="select" onchange="printCards()">
            <option selected value="">Bütün modeller</option>
        </select>
    </div>
    <div id="secBlock" class="  px-28 py-5 md:dark:bg-gray-100 mx-auto md:h-[150px] ">
        <div class="container hidden md:flex flex-wrap md:w-[900px] gap-[20px] bg-red">
            <input type="search" name="Search" placeholder="Marka"
                class="w-32 py-2 pl-10 text-sm rounded-md sm:w-auto focus:outline-none dark:bg-white dark:text-gray-800 focus:dark:bg-gray-50 focus:dark:border-violet-600 border">
            <input type="search" name="Search" placeholder="Qiymət"
                class="w-32 py-2 pl-10 text-sm rounded-md sm:w-auto focus:outline-none dark:bg-white dark:text-gray-800 focus:dark:bg-gray-50 focus:dark:border-violet-600 border">
            <input type="search" name="Search" placeholder="İl"
                class="w-32 py-2 pl-10 text-sm rounded-md sm:w-auto focus:outline-none dark:bg-white dark:text-gray-800 focus:dark:bg-gray-50 focus:dark:border-violet-600 border">
            <input type="search" name="Search" placeholder="img"
                class="w-32 py-2 pl-10 text-sm rounded-md sm:w-auto focus:outline-none dark:bg-white dark:text-gray-800 focus:dark:bg-gray-50 focus:dark:border-violet-600 border">
            <input type="search" name="Search" placeholder="Model"
                class="w-32 py-2 pl-10 text-sm rounded-md sm:w-auto focus:outline-none dark:bg-white dark:text-gray-800 focus:dark:bg-gray-50 focus:dark:border-violet-600 border">
            <input type="search" name="Search" placeholder="Mator"
                class="w-32 py-2 pl-10 text-sm rounded-md sm:w-auto focus:outline-none dark:bg-white dark:text-gray-800 focus:dark:bg-gray-50 focus:dark:border-violet-600 border">
            <input type="search" name="Search" placeholder="Rəng"
                class="w-32 py-2 pl-10 text-sm rounded-md sm:w-auto focus:outline-none dark:bg-white dark:text-gray-800 focus:dark:bg-gray-50 focus:dark:border-violet-600 border">
            <button type="button"
                class="px-8 w-[200px] items-center py-2 pl-10 font-semibold rounded bg-red-700 dark:text-gray-100">Add</button>
        </div>

        <!-- <button type="button" class="lg:font-semibold rounded float-end p-3  right-[240px] top-[250px] bg-black dark:text-white " onclick="openhid()">Gizlət</button> -->
    </div>
    <main>
        <div id="cards" class="py-[40px] flex justify-center sm:py-3 sm:max-w- items-center gap-[20px] flex-wrap ">
        </div>
        <div id="sidebar"
            class="bg-red-800 overflow-auto  flex fixed transition-all w-[30vw] h-[100vh] top-0 right-[-30vw] flex-col max-w-3xl ">
            <div onclick="showBasket(false)"
                class="text-[40px]  text-white absolute left-[10px] top-[-5px] cursor-pointer">x</div>

            <div>
                <ul id="shoppingList" class="flex flex-col divide-y">
                </ul>
            </div>
            <div class="text-right text-white p-3 m-3">
                <p>Total amount:
                    <span id="totalSec"></span>
                </p>
            </div>
            <div class="flex justify-end space-x-4 text-white">
                <button type="button" class="px-6 py-2 rounded-md dark:bg-violet-400  dark:border-violet-400">
                    <span class="sr-only sm:not-sr-only">Tesdiq et</span>
                </button>
            </div>
        </div>
        </div>

        <div class="flex justify-center">
            <button id="showBtn" onclick="showMore()" type="button"
                class="px-6 py-3 text-sm rounded-md hover:underline dark:bg-red-700 dark:text-white my-3">Load more
                posts...</button>
        </div>
    </main>

    <footer class="p-6 dark:bg-red-500 dark:text-white">
        <div class="container grid grid-cols-2 mx-auto gap-x-3 gap-y-8 sm:grid-cols-3 md:grid-cols-4">
            <div class="flex flex-col space-y-4">
                <h2 class="font-medium">Getting started</h2>
                <div class="flex flex-col space-y-2 text-sm dark:text-white">
                    <a rel="noopener noreferrer" href="#">Installation</a>
                    <a rel="noopener noreferrer" href="#">Release Notes</a>
                    <a rel="noopener noreferrer" href="#">Upgrade Guide</a>
                    <a rel="noopener noreferrer" href="#">Using with Preprocessors</a>
                    <a rel="noopener noreferrer" href="#">Optimizing for Production</a>
                    <a rel="noopener noreferrer" href="#">Browser Support</a>
                    <a rel="noopener noreferrer" href="#">IntelliSense</a>
                </div>
            </div>
            <div class="flex flex-col space-y-4">
                <h2 class="font-medium">Core Concepts</h2>
                <div class="flex flex-col space-y-2 text-sm dark:text-white">
                    <a rel="noopener noreferrer" href="#">Utility-First</a>
                    <a rel="noopener noreferrer" href="#">Responsive Design</a>
                    <a rel="noopener noreferrer" href="#">Hover, Focus, &amp; Other States</a>
                    <a rel="noopener noreferrer" href="#">Dark Mode</a>
                    <a rel="noopener noreferrer" href="#">Adding Base Styles</a>
                    <a rel="noopener noreferrer" href="#">Extracting Components</a>
                    <a rel="noopener noreferrer" href="#">Adding New Utilities</a>
                </div>
            </div>
            <div class="flex flex-col space-y-4">
                <h2 class="font-medium">Customization</h2>
                <div class="flex flex-col space-y-2 text-sm dark:text-white ">
                    <a rel="noopener noreferrer" href="#">Configuration</a>
                    <a rel="noopener noreferrer" href="#">Theme Configuration</a>
                    <a rel="noopener noreferrer" href="#">Breakpoints</a>
                    <a rel="noopener noreferrer" href="#">Customizing Colors</a>
                    <a rel="noopener noreferrer" href="#">Customizing Spacing</a>
                    <a rel="noopener noreferrer" href="#">Configuring Variants</a>
                    <a rel="noopener noreferrer" href="#">Plugins</a>
                </div>
            </div>
            <div class="flex flex-col space-y-4">
                <h2 class="font-medium">Community</h2>
                <div class="flex flex-col space-y-2 text-sm dark:text-white">
                    <a rel="noopener noreferrer" href="#">GitHub</a>
                    <a rel="noopener noreferrer" href="#">Discord</a>
                    <a rel="noopener noreferrer" href="#">Twitter</a>
                    <a rel="noopener noreferrer" href="#">YouTube</a>
                </div>
            </div>
        </div>
        <div class="flex items-center justify-center px-6 pt-12 text-sm">
            <span class="dark:text-white">© Copyright 2025. All Rights Reserved.</span>
        </div>
    </footer>
    <script src="data.js"></script>
    <script>

        const cards = document.getElementById('cards');
        const sidebar = document.getElementById('sidebar');
        const carsOp = document.getElementById("carsOp");
        const select = document.getElementById('select');
        const totalSec = document.getElementById('totalSec');
        const yeniElan = document.getElementById('yeniElan');
        const secBlock = document.getElementById('secBlock');

        let status = false
        let cardsNum = 4

        const printCards = () => {
            cards.innerHTML = ''
            data
                .filter(item => select.value ? item.marka == select.value : item)
                .slice(0, cardsNum)
                .map(item => cards.innerHTML += `<div class="lg:w-[20%] container p-3  mx-2 rounded-md shadow-md dark:bg-white dark:text-black">
                                                    <div class="mt-6 mb-2">
                                                        <img src="${item.img}" alt="" class="object-cover object-contain object-center w-full rounded-md h-72 dark:bg-gray-500">
                                                        <h1 class="text-black font-bold">${item.qiymet} AZN</h1>
                                                        <span class="block text-xs font-medium tracki uppercase dark:text-violet-400">${item.marka}</span>
                                                        <h2 onclick="showDet(${item.id})" class="text-xl hover:underline uppercase font-semibold tracki">${item.model}</h2>
                                                    </div>
                                                    <p class="card-text" style="color:${item.reng}">${item.reng}</p>
                                                    <p class="dark:text-black ">${item.il}, ${item.mator}L</p>
                                                    <button onclick="addtobasket(${item.id})" class="mt-[20px] p-[10px] px-[30px] rounded-[10px] transition ease-in-out delay-150 bg-blue-500 hover:-translate-y-1 hover:scale-110 hover:bg-indigo-500 duration-300 text-white">Al</button>
                                                </div>`)
        }
        printCards()

        function showDet(id) {
            window.location.href=`http://127.0.0.1:5500/detail.htm?id=${id}`
        }

        function search() {
            cards.innerHTML = ''
            data.filter(item => item.marka.toLowerCase().startsWith(axtar.value.toLowerCase()))
                .map(item => cards.innerHTML += `<div class="container  p-5  mx-10 rounded-md shadow-md dark:bg-white dark:text-black">
                                                    <div class="mt-6 mb-2">
                                                        <img src="${item.img}" alt="" class="object-cover object-center w-full rounded-md h-72 dark:bg-gray-500">
                                                        <h1 class="text-black font-bold">${item.qiymet} AZN</h1>
                                                        <span class="block text-xs font-medium tracki uppercase dark:text-violet-400">${item.marka}</span>
                                                        <h2 onclick="showDet(${item.id})" class="text-xl hover:underline uppercase font-semibold tracki">${item.model}</h2>
                                                    </div>
                                                    <p class="card-text" style="color:${item.reng}">${item.reng}</p>
                                                    <p class="dark:text-black ">${item.il}, ${item.mator}L</p>
                                                </div>`)
        }

        function showBasket() {
            sidebar.style.right = status ? '0' : '-230vw'
            status = !status
        }
        function showMore() {
            cardsNum += 4
            showBtn.style.display = cardsNum > data.length ? 'none' : 'block'
            printCards()
        }

        const opts = []
        function printModels() {
            data.map(item => {
                !opts.some(i => i == item.marka) && opts.push(item.marka)
            })
            opts.forEach(item => select.innerHTML += `<option value="${item}">${item}</option>`)
        }
        printModels()

        function printBasket() {
            const total = basketArr.reduce((acc, item) => { return acc + item.qiymet * item.count }, 0);
            totalSec.innerHTML = total

            shoppingList.innerHTML = ''
            basketArr.forEach(item => shoppingList.innerHTML += `<div>
                                    <li class="flex flex-col max-h-[500px] py-6 m-5 flex-wrap sm:justify-between text-white">
                                        <div class="flex  space-x-2 sm:space-x-4">
                                            <img class="object-cover w-20 h-20 dark:border-transparent rounded outline-none sm:w-32 sm:h-32 dark:bg-gray-500" src="${item.img}" >
                                            <div class="flex flex-col justify-between  pb-4">
                                                <div class="flex justify-between  pb-2 space-x-2">
                                                    <div class="space-y-1">
                                                        <h3 class="text-lg font-semibold leadi sm:pr-8">${item.marka}</h3>
                                                        <p class="text-sm dark:text-gray-400">Classic</p>
                                                        <div class="flex gap-[10px] items-center  ">
                                                            <button onclick="handleCount(-1,${item.id})" class="bg-white text-black p-[10px] rounded-[5px]"> - </button> <span> ${item.count}</span> <button  onclick="handleCount(1,${item.id})" class="bg-white text-black p-[10px] rounded-[5px]"> + </button>
                                                        </div>
                                                    </div>
                                                    <div class="text-right">
                                                        <p class="text-lg font-semibold">${item.qiymet}</p>
                                                        <p class="text-sm text-gray-500 font-semibold">Total:${item.qiymet * item.count}</p>
                                                        <p class="text-sm  text-white-500 font-semibold" onclick="endirim()">${item.count >= 10 ? 'Endirimli qiymet:' + total * 0.9 : ''}</p>
                                                        </div>
                                                        </div>
                                                        <div class="flex text-sm divide-x">
                                                            <button onclick="remove(${item.id})" type="button" class="flex items-center px-2 py-1 pl-0 space-x-1">
                                                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="w-4 h-4 fill-current">
                                                                    <path d="M96,472a23.82,23.82,0,0,0,23.579,24H392.421A23.82,23.82,0,0,0,416,472V152H96Zm32-288H384V464H128Z"></path>
                                                                    <rect width="32" height="200" x="168" y="216"></rect>
                                                                    <rect width="32" height="200" x="240" y="216"></rect>
                                                                    <rect width="32" height="200" x="312" y="216"></rect>
                                                                    <path d="M328,88V40c0-13.458-9.488-24-21.6-24H205.6C193.488,16,184,26.542,184,40V88H64v32H448V88ZM216,48h80V88H216Z"></path>
                                                                </svg>
                                                                <span class="cursor-pointer"">Remove</span>
                                                                </button>
                                                    <button type="button" class="flex items-center px-2 py-1 space-x-1">
                                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="w-4 h-4 fill-current">
                                                            <path d="M453.122,79.012a128,128,0,0,0-181.087.068l-15.511,15.7L241.142,79.114l-.1-.1a128,128,0,0,0-181.02,0l-6.91,6.91a128,128,0,0,0,0,181.019L235.485,449.314l20.595,21.578.491-.492.533.533L276.4,450.574,460.032,266.94a128.147,128.147,0,0,0,0-181.019ZM437.4,244.313,256.571,425.146,75.738,244.313a96,96,0,0,1,0-135.764l6.911-6.91a96,96,0,0,1,135.713-.051l38.093,38.787,38.274-38.736a96,96,0,0,1,135.765,0l6.91,6.909A96.11,96.11,0,0,1,437.4,244.313Z"></path>
                                                        </svg>
                                                        <span>Add to favorites</span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    `)
        }

        const basketArr = []
        let total = 0
        function addtobasket(id) {
            const obj = data.find(item => item.id == id);
            const product = basketArr.find(item => item.id == id)

            total += obj.qiymet
            totalSec.innerHTML = total

            if (!product) {
                basketArr.push({ ...obj, count: 1 })
            } else product.count += 1
            printBasket()
        }

        function remove(id) {
            const index = basketArr.findIndex(item => item.id == id)
            basketArr.splice(index, 1)
            printBasket()
        }

        function handleCount(x, id) {
            const product = basketArr.find(item => item.id == id)
            if (product.count > 0 && x == -1 || x == 1) product.count += x;
            const index = basketArr.findIndex(item => item.id == id);
            if (product.count == 0) basketArr.splice(index, 1);
            printBasket()
        }
        function openhid() {
            secBlock.style.display = status ? 'none' : 'block';
            status = !status
        }
        openhid()


    </script>
</body>

</html>